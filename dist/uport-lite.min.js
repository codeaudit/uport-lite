(function(e,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define("UportLite",[],a):"object"===typeof exports?exports.UportLite=a():e.UportLite=a()})(this,function(){return function(e){function a(b){if(c[b])return c[b].exports;var g=c[b]={i:b,l:!1,exports:{}};e[b].call(g.exports,g,g.exports,a);g.l=!0;return g.exports}var c={};a.m=e;a.c=c;a.i=function(b){return b};a.d=function(b,g,c){a.o(b,g)||Object.defineProperty(b,g,{configurable:!1,
enumerable:!0,get:c})};a.n=function(b){var g=b&&b.__esModule?function(){return b["default"]}:function(){return b};a.d(g,"a",g);return g};a.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};a.p="";return a(a.s=4)}([function(e,a,c){(function(a){var b=a&&a.Buffer?a.Buffer:Uint8Array;e.exports=function(a){function c(a){if(0===a.length)return new b(0);for(var d=[0],c=0;c<a.length;c++){var f=g[a[c]];if(void 0===f)return;for(var h=0;h<d.length;++h)f+=d[h]*e,d[h]=f&255,f>>=8;for(;0<f;)d.push(f&
255),f>>=8}for(c=0;a[c]===k&&c<a.length-1;++c)d.push(0);return b.from(d.reverse())}for(var g={},e=a.length,k=a.charAt(0),f=0;f<a.length;f++){var h=a.charAt(f);if(void 0!==g[h])throw new TypeError(h+" is ambiguous");g[h]=f}return{encode:function(d){if(0===d.length)return"";for(var b=[0],c=0;c<d.length;++c){for(var f=0,h=d[c];f<b.length;++f)h+=b[f]<<8,b[f]=h%e,h=h/e|0;for(;0<h;)b.push(h%e),h=h/e|0}c="";for(f=0;0===d[f]&&f<d.length-1;++f)c+=a[0];for(d=b.length-1;0<=d;--d)c+=a[b[d]];return c},decodeUnsafe:c,
decode:function(a){if(a=c(a))return a;throw Error("Non-base"+e+" character");}}}}).call(a,c(3))},function(e,a){e.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]);Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}});Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}});Object.defineProperty(b,"exports",{enumerable:!0});b.webpackPolyfill=1}return b}},function(e,a){},function(e,a){a=function(){return this}();try{a=
a||Function("return this")()||(0,eval)("this")}catch(c){"object"===typeof window&&(a=window)}e.exports=a},function(e,a,c){(function(b){function e(a,b){var d=new n,c=a||{};d.onreadystatechange=function(){if(4===d.readyState&&1!==d.timeout)if(200!==d.status)b(Error("[uport-lite] status "+d.status+": "+d.responseText));else try{b(null,JSON.parse(d.responseText))}catch(q){b(Error("[uport-lite] while parsing data: '"+String(d.responseText)+"', error: "+String(q)))}};c.data?d.open("POST",a.uri):d.open("GET",
a.uri);c.accept&&d.setRequestHeader("accept",c.accept);c.data?(d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(c.data))):d.send()}function l(a){var b=p.decode(a),c=b.length-24;a=b.slice(1,c);b=b.slice(c,20+c);return{network:"0x"+m.encode(a),address:"0x"+m.encode(b)}}Object.defineProperty(a,"__esModule",{value:!0});a.eaeDecode=l;var p=c(0)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),m=c(0)("0123456789abcdef"),n="undefined"!==typeof window?window.XMLHttpRequest:
c(2).XMLHttpRequest,k={"0x1":{registry:"0xab5c8051b9a1df1aab0149f8b0630848b7ecabf6",rpcUrl:"https://mainnet.infura.io"},"0x3":{registry:"0x41566e3a081f5032bdcad470adb797635ddfe1f0",rpcUrl:"https://ropsten.infura.io"},"0x2a":{registry:"",rpcUrl:"https://kovan.infura.io"}};b.exports=function(a){function b(a,b){return a.split("").map(function(a){return("0"+a.charCodeAt(0).toString(16)).slice(-2)}).join(b||"")}function c(a,b,c){return"undefined"===typeof b?a:c?(a+b).slice(-a.length):(b+a).substring(0,
a.length)}function f(a,d,e,f){a+=c("0000000000000000000000000000000000000000000000000000000000000000",b(d));a+=c("0000000000000000000000000000000000000000000000000000000000000000",e.slice(2),!0);return a+=c("0000000000000000000000000000000000000000000000000000000000000000",f.slice(2),!0)}function g(a,b,c,d){b=l(b);var g=l(c);if(b.network!==g.network)throw Error("Issuer and subject must be on the same network");if(!k[b.network])throw Error("Network id "+b.network+" is not configured");c=k[b.network].rpcUrl;
var h=k[b.network].registry;a=f("0x447885f0",a,b.address,g.address);return e({uri:c+"/"+n,accept:"application/json",data:{method:"eth_call",params:[{to:h,data:a},"latest"],id:1,jsonrpc:"2.0"}},function(a,b){return a||0==b.result?d(a):d(null,p.encode(m.decode("1220"+b.result.slice(2))))})}a=void 0===a?{}:a;var n=a.infuraKey||"uport-lite-library",r=a.ipfsGw||"https://ipfs.infura.io/ipfs/";return function(a,b,c,d){return a?g(void 0===d?"uPortProfileIPFS1220":d,a,c||a,function(a,c){if(a)return b(a);c&&
"0x"!==c?e({uri:""+r+c},b):b()}):b(null)}}}).call(a,c(1)(e))}])});
