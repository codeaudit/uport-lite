(function(f,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define("UportLite",[],a):"object"===typeof exports?exports.UportLite=a():f.UportLite=a()})(this,function(){return function(f){function a(b){if(c[b])return c[b].exports;var e=c[b]={i:b,l:!1,exports:{}};f[b].call(e.exports,e,e.exports,a);e.l=!0;return e.exports}var c={};a.m=f;a.c=c;a.i=function(b){return b};a.d=function(b,e,c){a.o(b,e)||Object.defineProperty(b,e,{configurable:!1,
enumerable:!0,get:c})};a.n=function(b){var e=b&&b.__esModule?function(){return b["default"]}:function(){return b};a.d(e,"a",e);return e};a.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};a.p="";return a(a.s=4)}([function(f,a,c){(function(a){var b=a&&a.Buffer?a.Buffer:Uint8Array;f.exports=function(a){function c(a){if(0===a.length)return new b(0);for(var d=[0],c=0;c<a.length;c++){var h=e[a[c]];if(void 0===h)return;for(var g=0;g<d.length;++g)h+=d[g]*f,d[g]=h&255,h>>=8;for(;0<h;)d.push(h&
255),h>>=8}for(c=0;a[c]===l&&c<a.length-1;++c)d.push(0);return b.from(d.reverse())}for(var e={},f=a.length,l=a.charAt(0),k=0;k<a.length;k++){var p=a.charAt(k);if(void 0!==e[p])throw new TypeError(p+" is ambiguous");e[p]=k}return{encode:function(d){if(0===d.length)return"";for(var b=[0],c=0;c<d.length;++c){for(var e=0,g=d[c];e<b.length;++e)g+=b[e]<<8,b[e]=g%f,g=g/f|0;for(;0<g;)b.push(g%f),g=g/f|0}c="";for(e=0;0===d[e]&&e<d.length-1;++e)c+=a[0];for(d=b.length-1;0<=d;--d)c+=a[b[d]];return c},decodeUnsafe:c,
decode:function(a){if(a=c(a))return a;throw Error("Non-base"+f+" character");}}}}).call(a,c(3))},function(f,a){f.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]);Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}});Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}});Object.defineProperty(b,"exports",{enumerable:!0});b.webpackPolyfill=1}return b}},function(f,a){},function(f,a){a=function(){return this}();try{a=
a||Function("return this")()||(0,eval)("this")}catch(c){"object"===typeof window&&(a=window)}f.exports=a},function(f,a,c){(function(b){function e(a,b){var d=new r,c=a||{};d.onreadystatechange=function(){if(4===d.readyState&&1!==d.timeout)if(200!==d.status)b(Error("[uport-lite] status "+d.status+": "+d.responseText));else try{b(null,JSON.parse(d.responseText))}catch(m){b(Error("[uport-lite] while parsing data: '"+String(d.responseText)+"', error: "+String(m)))}};c.data?d.open("POST",a.uri):d.open("GET",
a.uri);c.accept&&d.setRequestHeader("accept",c.accept);c.data?(d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(c.data))):d.send()}function f(a){var b=q.decode(a),c=b.length-24;a=b.slice(1,c);b=b.slice(c,20+c);return{network:"0x"+n.encode(a),address:"0x"+n.encode(b)}}Object.defineProperty(a,"__esModule",{value:!0});a.eaeDecode=f;var q=c(0)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n=c(0)("0123456789abcdef"),r="undefined"!==typeof window?window.XMLHttpRequest:
c(2).XMLHttpRequest,l={"0x1":{registry:"0xab5c8051b9a1df1aab0149f8b0630848b7ecabf6",rpcUrl:"https://mainnet.infura.io"},"0x3":{registry:"0x41566e3a081f5032bdcad470adb797635ddfe1f0",rpcUrl:"https://ropsten.infura.io"},"0x2a":{registry:"",rpcUrl:"https://kovan.infura.io"}};b.exports=function(a){function b(a,b){return a.split("").map(function(a){return("0"+a.charCodeAt(0).toString(16)).slice(-2)}).join(b||"")}function c(a,b,c){return"undefined"===typeof b?a:c?(a+b).slice(-a.length):(b+a).substring(0,
a.length)}function k(a,d,e,f){a+=c("0000000000000000000000000000000000000000000000000000000000000000",b(d));a+=c("0000000000000000000000000000000000000000000000000000000000000000",e.slice(2),!0);return a+=c("0000000000000000000000000000000000000000000000000000000000000000",f.slice(2),!0)}function m(a,b,c,d){b=f(b);var g=f(c);if(b.network!==g.network)throw Error("Issuer and subject must be on the same network");if(!l[b.network])throw Error("Network id "+b.network+" is not configured");c=l[b.network].rpcUrl;
var h=l[b.network].registry;a=k("0x447885f0",a,b.address,g.address);return e({uri:c,accept:"application/json",data:{method:"eth_call",params:[{to:h,data:a},"latest"],id:1,jsonrpc:"2.0"}},function(a,b){return a||0==b.result?d(a):d(null,q.encode(n.decode("1220"+b.result.slice(2))))})}a=void 0===a?{}:a;var h=a.ipfsGw||"https://ipfs.infura.io/ipfs/";return function(a,b,c,d){return a?m(void 0===d?"uPortProfileIPFS1220":d,a,c||a,function(a,c){if(a)return b(a);c&&"0x"!==c?e({uri:""+h+c},b):b()}):b(null)}}}).call(a,
c(1)(f))}])});
